<link rel="stylesheet" href="{{ url_for('static', filename='css/datepicker.material.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/buttons.dataTables.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/select.dataTables.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/searchPanes.dataTables.min.css') }}">
<script src="{{ url_for('static', filename='datepicker.js') }}"></script>
<script src="{{ url_for('static', filename='jquery-3.6.0.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/buttons.html5.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/buttons.print.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/dataTables.buttons.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/dataTables.searchPanes.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/dataTables.select.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.dataTables.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jszip.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/pdfmake.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/vfs_fonts.js') }}"></script>
<head>
<form action="" method="post">
    <table>
        <tr>
            <td>
                <label for="datepicker" class="form-label">Дата начала</label>
                <input type="date" value="{{ dtn }}" name="dtn" /> {# <input type="text" id="datepicker" name="dtn" autocomplete="off">#}
            </td>
            <td>
                <label for="datepicker2" class="form-label">Окончание</label>
                <input type="date" value="{{ dtk }}" name="dtk" />
            </td>
            <td>
                <button type="button submit" class="btn btn-primary">Сформировать</button>
            </td>
        </tr>

    </table>
</form>

<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/searchpanes/1.4.0/js/dataTables.searchPanes.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.1.0/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.min.js"></script>



<table id="myTable" class="table table-striped" style="width:100%">
    <thead>
        <tr>
            <th>Отделение</th>
            <th>ФИО</th>
            <th>Причина</th>
            <th>Отстутствует с</th>
            <th>Отсутствует по</th>
        </tr>
    </thead>
    <tbody>



        {% for SNLPU, NDOC, NRSN, DTN, DTK in my_list %}
        <tr>
            <td>{{ SNLPU }}</td>
            <td>{{ NDOC }}</td>
            <td>{{ NRSN }}</td>
            <td>{{ DTN }}</td>
            <td>{{ DTK }}</td>
        </tr>
        {% endfor %}
        <tfoot>
            <tr>
                <th>Отделение</th>
                <th>ФИО</th>
                <th>Причина</th>
                <th>Отстутствует с</th>
                <th>Отсутствует по</th>
            </tr>
        </tfoot>
</table>

<script>
    $(document).ready(function() {
        $('#myTable').DataTable({
            scrollCollapse: true,
            paging: true,
            autoFill: true,
            "pageLength": 18,
            dom: 'Bfrtip',
            buttons: [
                'copy',
                'excel',
                'pdf', {
                    extend: 'print',
                    text: 'Напечатать все',
                    exportOptions: {
                        modifier: {
                            selected: null
                        }
                    }
                }
            ],
            select: true,
        });
    });
</script>
