<!DOCTYPE html>
<html lang="en">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
<link rel="stylesheet" href="{{ url_for('static', filename='datepicker.material.css') }}">
<script src="{{ url_for('static', filename='datepicker.js') }}"></script>


<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

{% for iblc, DTN, DTK, NRSN in result_rsp_blc %}
 <div class="modal" id="RspBlcModal{{ iblc }}"  tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">ВВЕДИТЕ СВЕДЕНИЯ ОБ ОТСУТСТВИИ СОТРУДНИКА {{ FIO }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.{{ iblc }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
{% endfor %}

{#{% for iblc, DTN, DTK, NRSN in result_rsp_blc %}#}
{# <!-- Modal -->#}
{#  <div class="modal fade" id="RspBlcModal{{ iblc }}" role="dialog">#}
{#    <div class="modal-dialog modal-lg">#}
{##}
{#      <!-- Modal content-->#}
{#      <div class="modal-content">#}
{#        <div class="modal-header">#}
{#          <button type="button" class="close" data-dismiss="modal">&times;</button>#}
{#          <h4 class="modal-title">Task Output</h4>#}
{#        </div>#}
{#        <div class="modal-body">#}
{#          <p>{{ DTN }}</p>#}
{#        </div>#}
{#        <div class="modal-footer">#}
{#          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>#}
{#          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>#}
{##}
{#        </div>#}
{#      </div>#}
{##}
{#    </div>#}
{#  </div>#}
{#{% endfor %}#}

<div class="container">
    <h2>Внесение дежурства и выходных</h2>
     <form class="form-horizontal" method="POST" action="">
                {{ form.csrf_token() }}

{#        <div class="form-group">#}
{#            {{ form.submit(class="btn btn-primary")}}#}
{#        </div>#}

     <table class="table caption-top table table-striped table table-bordered">
     <caption>Режим работы сотрудника</caption>
         <thead>
         <th>№ кабинета</th>
         <th>Нечетное</th>
         <th>Четное</th>
         <th>№ монитора</th>
         <th>№ страницы</th>
         <th>Специальность</th>
         </thead>
         <tr>
         {% for NROOM_KR, NOEVEN_DAY, EVEN_DAY, NTV, NLIST, NSPZ in result_rasp %}
            <tr>
                <td>{{ NROOM_KR }}</td>
                <td>{{ NOEVEN_DAY or "" }}</td>
                <td>{{ EVEN_DAY or ""}}</td>
                <td>{{ NTV }}</td>
                <td>{{ NLIST }}</td>
                <td>{{ NSPZ }}</td>
            </tr>
         {% endfor %}

     </table>

     <table class="table caption-top table table-striped table table-bordered" >
         <caption>Отстуствие на рабочем месте</caption>

         <thead>
         <th>Дата с</th>
         <th>по</th>
         <th>Причина</th>
         </thead>
         <tr>
         {% for iblc, DTN, DTK, NRSN in result_rsp_blc %}
            <tr>
                <td>{{ iblc }}</td>
                <td><p><input type="date" value={{ DTN }} name="DTN1" onchange="myFunction()" /></p></td>
                <td><p><input type="date" value={{ DTK }} name="DTK1"> </p> </td>
                <td>{{ NRSN }}</td>
{#                <td><i class="bi bi-pencil"></i>  </td>#}
                <td> <button type="button" class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#RspBlcModal{{ iblc }}">Output</button>
{#                <td><button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#RspBlcModal {{ iblc }}">#}
{#                     data-toggle="modal" data-target="#myOutput{{ history.task_id }}"#}
{#                  <i class="bi bi-pencil"></i>#}
{#                  <span class="visually-hidden">Button</span>#}
{#                  </button>#}
                </td>
{#                <td> <button type="button" class="w-100 btn btn-lg btn-primary">Contact us</button> </td>#}
            </tr>
         {% endfor %}
     </table>

     <table class="table caption-top table table-striped table table-bordered">
     <caption>Работа в праздничные и выходные дни, дежурство по графику</caption>
         <thead>
         <th>Дата</th>
         <th>Время</th>
         <th>День недели</th>

         </thead>
         <tr>
         {% for DATE_DUTY, TIME_DUTY, denNedeli,ID in result_duty %}
            <tr>
                <td>{{ DATE_DUTY }}</td>
                <td>{{ TIME_DUTY }}</td>
                <td>{{ denNedeli }}</td>
                <td>{{ ID }}</td>
            </tr>
         {% endfor %}
     </table>


<div class="input-group mb-3">
  <label class="input-group-text" for="inputGroupSelect01">Options</label>
  <select class="form-select" id="inputGroupSelect01">
    <option selected>Choose...</option>
    <option value="1">One</option>
    <option value="2">Two</option>
    <option value="3">Three</option>
  </select>
</div>

    </form>

</div>
</body>
</html>

<script>

    function myFunction() {
       alert("  ") //document.querySelectorAll("input[type=submit]")[0].click();
    }

var datepicker = new Datepicker("#datepicker");
var datepicker2 = new Datepicker('#datepicker2');

var myModal = document.getElementById('myModal')
var myInput = document.getElementById('myInput')

myModal.addEventListener('shown.bs.modal', function () {
  myInput.focus()
})

</script>
